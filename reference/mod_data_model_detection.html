<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This module will interrogate a user connected database, comparing it with
known common data models to determine the both the data model and version
(when applicable) of the user's database.
It informs the rest of the application how to interpret and display the data
stored in the connected database, when possible. If an unsupported data model
is detected, the user is informed and given the opportunity to connect to
a different database.
This module consists of the following components:
Module UI functions


These functions return a Shiny tagList containing various UI elements of the
ReviewR application. UI components are calculated by the
data_model_detection_server function of this module.
data_model_detection_ui: A server defined uiOutput
describing the detected data model and version.
patient_chart_ui: The &quot;Patient Chart,&quot; with the appropriate display
elements based on the detected data model. Appears on the &quot;Chart Review&quot; tab
of ReviewR.





Module Server function


The server function of this module is responsible for calculating the display
elements included in the UI functions of this module as well as returning a
reactiveValues object containing various other objects used by other modules.
data_model_detection_server: Contains the data model detection logic
and calculates UI elements. Returns a reactiveValues object containing variables
used in other modules.



"><title>Data Model Detection Module — mod_data_model_detection • ReviewR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Model Detection Module — mod_data_model_detection"><meta property="og:description" content="This module will interrogate a user connected database, comparing it with
known common data models to determine the both the data model and version
(when applicable) of the user's database.
It informs the rest of the application how to interpret and display the data
stored in the connected database, when possible. If an unsupported data model
is detected, the user is informed and given the opportunity to connect to
a different database.
This module consists of the following components:
Module UI functions


These functions return a Shiny tagList containing various UI elements of the
ReviewR application. UI components are calculated by the
data_model_detection_server function of this module.
data_model_detection_ui: A server defined uiOutput
describing the detected data model and version.
patient_chart_ui: The &quot;Patient Chart,&quot; with the appropriate display
elements based on the detected data model. Appears on the &quot;Chart Review&quot; tab
of ReviewR.





Module Server function


The server function of this module is responsible for calculating the display
elements included in the UI functions of this module as well as returning a
reactiveValues object containing various other objects used by other modules.
data_model_detection_server: Contains the data model detection logic
and calculates UI elements. Returns a reactiveValues object containing variables
used in other modules.



"><meta property="og:image" content="reviewr.thewileylab.org/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ReviewR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-deploying-reviewr">Deploying ReviewR</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-deploying-reviewr">
    <a class="dropdown-item" href="../articles/deploy_local.html">Local Deployment</a>
    <a class="dropdown-item" href="../articles/deploy_server.html">Shiny Server Deployment</a>
    <a class="dropdown-item" href="../articles/deploy_docker.html">Docker Deployment</a>
    <a class="dropdown-item" href="../articles/deploy_bigquery.html">Google BigQuery Deployment</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-using-reviewr">Using ReviewR</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-using-reviewr">
    <a class="dropdown-item" href="../articles/usage_connect_to_record_database.html">Connect to Patient Record Database</a>
    <a class="dropdown-item" href="../articles/usage_connect_to_redcap.html">Connect to REDCap</a>
    <a class="dropdown-item" href="../articles/usage_perform_chart_review.html">Perform A Chart Review</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-customizing-reviewr">Customizing ReviewR</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-customizing-reviewr">
    <a class="dropdown-item" href="../articles/customize_support_new_rdbms.html">Support a New Relational Database Management System</a>
    <a class="dropdown-item" href="../articles/customize_support_new_data_model.html">Support a Custom Data Model</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thewileylab/ReviewR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Data Model Detection Module</h1>
      <small class="dont-index">Source: <a href="https://github.com/thewileylab/ReviewR/blob/HEAD/R/mod_data_model_detection.R" class="external-link"><code>R/mod_data_model_detection.R</code></a></small>
      <div class="d-none name"><code>mod_data_model_detection.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This module will interrogate a user connected database, comparing it with
known common data models to determine the both the data model and version
(when applicable) of the user's database.</p>
<p>It informs the rest of the application how to interpret and display the data
stored in the connected database, when possible. If an unsupported data model
is detected, the user is informed and given the opportunity to connect to
a different database.</p>
<p>This module consists of the following components:</p><div class="section">
<h3 id="module-ui-functions">Module UI functions<a class="anchor" aria-label="anchor" href="#module-ui-functions"></a></h3>


<p>These functions return a Shiny <code>tagList</code> containing various UI elements of the
ReviewR application. UI components are calculated by the
<code>data_model_detection_server</code> function of this module.</p><ul><li><p><code>data_model_detection_ui</code>: A server defined uiOutput
describing the detected data model and version.</p></li>
<li><p><code>patient_chart_ui</code>: The "Patient Chart," with the appropriate display
elements based on the detected data model. Appears on the "Chart Review" tab
of ReviewR.</p></li>
</ul></div>

<div class="section">
<h3 id="module-server-function">Module Server function<a class="anchor" aria-label="anchor" href="#module-server-function"></a></h3>


<p>The server function of this module is responsible for calculating the display
elements included in the UI functions of this module as well as returning a
reactiveValues object containing various other objects used by other modules.</p><ul><li><p><code>data_model_detection_server</code>: Contains the data model detection logic
and calculates UI elements. Returns a reactiveValues object containing variables
used in other modules.</p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">data_model_detection_ui</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">patient_chart_ui</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">data_model_detection_server</span><span class="op">(</span><span class="va">id</span>, <span class="va">database_vars</span>, <span class="va">navigation_vars</span>, <span class="va">parent_session</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>id</dt>
<dd><p>The Module namespace</p></dd>


<dt>database_vars</dt>
<dd><p>A reactiveValues object as returned by <a href="mod_database_setup.html">mod_database_setup</a>.</p></dd>


<dt>navigation_vars</dt>
<dd><p>A reactiveValues object as returned by <a href="mod_navigation.html">mod_navigation</a>.</p></dd>


<dt>parent_session</dt>
<dd><p>The session information from the parent environment of this module.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><em>data_model_detection_ui</em>:</p>
<dl><dt>tagList</dt>
<dd><p>A uiOutput describing the detected data model and version.</p></dd>

</dl><p><em>patient_chart_ui</em>:</p>
<dl><dt>tagList</dt>
<dd><p>The "Patient Chart" on the "Chart Review" tab of ReviewR.</p></dd>

</dl><p><em>data_model_detection_server</em>:</p>
<dl><dt>reactiveValues</dt>
<dd>
<ul><li><p><em>table_map</em>: A tibble containing a mapping between the CDM standard
tables and fields to the user connected tables and fields.</p></li>
<li><p><em>message</em>: A character vector containing the message describing the
detected data model and version.</p></li>
<li><p><em>table_functions</em>: A tibble containing the table function names for
the detected data model as well as the table names which the functions will
create.</p></li>
<li><p><em>all_patients_table</em>: A tibble containing <em>only</em> the "All Patients"
function and table name. Used to render the "All Patients" table on the
"Patient Search" tab.</p></li>
<li><p><em>subject_tables</em>: A tibble containing the "Subject Specific"
functions and table names. Used to render the patient chart tabsets on
the "Chart Review" tab.</p></li>
</ul></dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Laura Wiley, Luke Rasmussen, David Mayer, <a href="https://www.thewileylab.org/" class="external-link"><img src="https://raw.githubusercontent.com/thewileylab/ReviewR/master/man/figures/WileyLab.svg" height="24"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

